#include "main.h"
#include "usb_debouncer.hpp"

/*
 ******************************************************************************
 * DEFINES
 ******************************************************************************
 */

/*
 ******************************************************************************
 * EXTERNS
 ******************************************************************************
 */

/*
 ******************************************************************************
 * GLOBAL VARIABLES
 ******************************************************************************
 */

/*
 *******************************************************************************
 *******************************************************************************
 * LOCAL FUNCTIONS
 *******************************************************************************
 *******************************************************************************
 */


/*
 *******************************************************************************
 * EXPORTED FUNCTIONS
 *******************************************************************************
 */

/**
 *
 */
UsbDebouncer::UsbDebouncer(void) : plugged_flag(false) {
  return;
}

/**
 *
 */
bool UsbDebouncer::update(void){
  bool ret = false;

  if (plugged_flag && usb_lld_is_plug_inserted())
    ret = true;

  plugged_flag = usb_lld_is_plug_inserted();

  return ret;
}

